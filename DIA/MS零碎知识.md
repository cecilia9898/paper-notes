FAIMS 的全称是 **Field Asymmetric Ion Mobility Spectrometry**，中文一般叫“场不对称离子迁移谱”。它是可以装在质谱前端的一个接口（像个“滤波器”），用来在离子进入质谱之前先根据气相迁移率（mobility）进行一次额外分离。

### 简单理解

* **常规质谱**：色谱柱 → 电离 → 直接进质谱。
* **带 FAIMS 的质谱**：色谱柱 → 电离 → **FAIMS 过滤一遍**（电场让不同迁移率的离子在不同补偿电压下通过） → 进质谱。

这样就像在质谱前多加了一道门禁卡，只有符合条件的离子能进来。

### 为什么用 FAIMS？

1. **降低化学噪音**：去掉背景或低复杂度的离子 → 提升信噪比。
2. **选择性分析**：通过调节补偿电压（CV，比如文章里用 −50 V），只允许特定迁移特性的离子通过。
3. **提高灵敏度**：特别是在低样本量时（比如稀释梯度实验），能更好地检测到低丰度肽段。

### 在 DIA 实验里

* DIA 已经是全扫描碎裂，信息复杂度很高。加上 FAIMS，可以减少干扰信号，让 DIA 的定量更精准。
* 不同 CV 下的实验也可以组合起来，增加覆盖度。

---

# 💻 普通科研电脑 vs 🖥️ UMass Chan SCI Cluster

| 配置 | 普通科研电脑 | UMass Chan SCI Cluster |
|------|--------------|-------------------------|
| **CPU（核心数）** | 4–8 核 (i7/i9/AMD Ryzen) | 每节点 40 核 / 128 核，总共几千核 |
| **内存（RAM）** | 16–32 GB | 380 GB / 500 GB |
| **GPU** | 一张消费级显卡（RTX 3060 / 3080，6–12 GB 显存） | V100 (32 GB) ×40 张 + A100 (40 GB) ×4 张 |
| **存储** | 512 GB–2 TB SSD | 超过 2 PB（2000 TB）高速存储 |
| **操作系统** | Windows / macOS / Linux | Red Hat Enterprise Linux 8 |
| **网络** | 家用/实验室局域网 | Infiniband + 高速以太网（节点间低延迟） |
| **任务调度** | 自己盯着跑，满了就卡死 | IBM LSF 自动排队、分配资源 |
| **适合的任务** | 小规模数据分析，少量深度学习 | 超大规模质谱数据、并行仿真、大模型训练 |

---

## 🎯 一句话总结
- **科研电脑**：个人单兵作战工具，适合轻量分析。  
- **SCI Cluster**：科研界“数据工厂”，能帮你同时跑成百上千个任务，还能带你玩转深度学习和超大数据。

---
好问题！你看到的 `.parquet` 文件，其实是一种 **列式存储的表格数据格式**，全名叫 **Apache Parquet**。

---

## 🗂️ 什么是 `.parquet`？

* 类似于 `.csv` 或 `.tsv`，本质就是 **表格**。
* 但它不是一行行存的，而是 **按列压缩存储**，这样：

  * **读写快**（尤其是只需要某几列时）；
  * **文件小**（压缩率高）；
  * **兼容大数据生态**（Hadoop、Spark、Arrow 都支持）。

---

## 🔬 在 DIA-NN 里的 `.parquet`

* DIA-NN 的新版默认输出结果（比如 `report.parquet`、`report-lib.parquet`）就是这种格式。
* 它包含的内容和 `.tsv` 类似（比如识别到的 peptide、precursor、protein、强度等），只是换了个更现代的存储方式。

---

## 🛠️ 怎么打开？

* **Python / Jupyter**：

  ```python
  import pandas as pd
  df = pd.read_parquet("astral_20250922_report.parquet")
  print(df.head())
  ```
* **R**：

  ```R
  library(arrow)
  df <- read_parquet("astral_20250922_report.parquet")
  head(df)
  ```
* **命令行**（Linux）：

  ```bash
  parquet-tools head astral_20250922_report.parquet
  ```
* **Excel**：不能直接打开，需要先转成 `.csv`：

  ```python
  df.to_csv("report.csv", index=False)
  ```

---

## 📊 小结

* `.parquet` = 压缩过的高性能表格文件。
* DIA-NN 输出的 `.parquet` **= 你要分析的识别/定量结果表**。
* 打开方式：推荐用 **pandas (Python)** 或 **arrow (R)**。

---
“Peak FWHM vs RT” 是质谱/色谱里一个很常见的 QC（质控）指标。拆开来看：

### 1. FWHM (Full Width at Half Maximum)

* 指的是色谱峰在**峰高一半处的宽度**。
* 直观理解：峰越窄，分离度和分辨率越高；峰越宽，说明分离度变差或者系统有扩散效应。

### 2. RT (Retention Time)

* 指该色谱峰在色谱图上被检测到的**保留时间**。
* 不同肽段或分子会在不同的 RT 被洗脱出来。

### 3. “Peak FWHM vs RT” 图的含义

* 横轴：Retention Time (RT)
* 纵轴：FWHM（通常以秒为单位）
* 每个点：代表一个检测到的色谱峰（通常是肽段的 XIC 峰）。

**作用：**

* 看随时间（RT）洗脱的峰，峰宽是否保持稳定。
* 理想情况：大多数峰的 FWHM 应该分布在一个相对窄的范围内，并且随 RT 不应该有很大系统性变化。
* 如果后段（长 RT）峰明显变宽，说明色谱柱分离在长梯度尾部效率下降。
* 如果峰普遍很宽，可能是色谱条件或柱效的问题。

### 4. 在 DIA / LC-MS 数据分析里为什么重要

* 窄且均匀的峰宽 → 更高的定量精度和灵敏度。
* 峰太宽 → XIC 重叠严重，干扰多，影响肽段定量。
* QC 软件（比如 Skyline、DIA-NN、MSQC）常用 Peak FWHM vs RT 来检查梯度、柱效、喷雾稳定性。

---

好问题～这个和刚才的 **Peak FWHM vs RT** 类似，也是质谱数据 QC/可视化里很常见的一种二维分布图。我们拆开看：

---

### 1. m/z (mass-to-charge ratio)

* **横轴**通常是 m/z。
* 它表示离子的质荷比：分子量 ÷ 电荷数。
* 越大的肽段 / 修饰分子 → m/z 越高；多带电荷 → m/z 变小。

---

### 2. IM (Ion Mobility, 离子淌度)

* **纵轴**通常是 IM（有时写成 CCS, Collision Cross Section）。
* IM 反映离子在气相中穿过电场或气流的速度，和分子的大小、形状、带电数有关。
* 简单来说：分子“越胖越大” → 迁移率低（数值大）；分子“越紧凑” → 迁移率高（数值小）。

---

### 3. IM vs m/z 图表示什么？

* 每个点 = 一个检测到的离子（precursor 或 fragment）。
* 横轴：m/z；纵轴：IM。
* 结果通常会看到一些“对角带状分布”，因为 **m/z 和 IM 有一定相关性**：

  * 较大分子 → m/z 大，同时 IM 也大（因为体积大，穿过气体更慢）。
  * 小肽段 → m/z 小，同时 IM 也小。

---

### 4. 用途

* **质控**：看 IM–m/z 分布是否合理（比如是否和标准样品的分布相符）。
* **去重/消歧**：IM 可以帮助区分 m/z 接近但构象不同的离子 → 提高鉴定准确度。
* **校准**：检查 TIMS/QTOF 或 FAIMS 仪器的淌度校准是否正常。

---

📊 **直观类比**：

* m/z 就像“体重 ÷ 身高”；
* IM 就像“在空气里跑 100 米的速度”。
* IM vs m/z 图就是在看：不同“体重比例”的人，跑得快还是慢。正常情况下，人群会形成一些带状分布；如果你的数据点乱七八糟一团，可能说明仪器/校准有问题。

---


